{"timestamp": "2025-05-18T18:54:19.945651", "session_id": "4ada26be-8621-4bc6-8ba9-014dd22ec8b5", "nl_query": "NPS trend for march 2025", "sql_query_generated": "SELECT\n  nps_date,\n  ROUND(\n    CAST(\n      (SUM(CASE WHEN CAST(p_rating AS INTEGER) >= 9 THEN 1 ELSE 0 END) -\n       SUM(CASE WHEN CAST(p_rating AS INTEGER) <=6 THEN 1 ELSE 0 END)) * 100.0\n      AS NUMERIC\n    ) / NULLIF(COUNT(*), 0),\n    2\n  ) AS nps_score,\n  COUNT(*) AS total_responses\nFROM\n  public.hyb_nps_dtl\nWHERE\n  nps_date >= '2025-03-01'\n  AND nps_date < '2025-04-01'\nGROUP BY\n  nps_date\nORDER BY\n  nps_date\nLIMIT 100", "nl_response": "In March 2025, the daily NPS scores ranged mostly between 35 and 45, indicating a \"Great\" level of customer satisfaction throughout the month. The NPS started around 40.75 on March 1 and showed some fluctuations but generally remained stable in the mid-30s to mid-40s range. Total daily responses were consistently high, typically over 1,000 each day. Overall, the NPS trend for March 2025 reflects strong and steady positive customer sentiment.", "suggestions": ["How does the daily NPS trend in March 2025 compare to February and April 2025?", "Which customer segments contributed most to the stable NPS in March 2025?", "What common feedback themes appeared in promoter and detractor comments during March 2025?"], "raw_results_preview": []}
{"timestamp": "2025-05-18T18:56:01.388258", "session_id": "4ada26be-8621-4bc6-8ba9-014dd22ec8b5", "nl_query": "How does the daily NPS trend in March 2025 compare to February and April 2025?", "sql_query_generated": "SELECT\n  nps_date,\n  ROUND(\n    CAST(\n      (SUM(CASE WHEN CAST(p_rating AS INTEGER) >= 9 THEN 1 ELSE 0 END) -\n       SUM(CASE WHEN CAST(p_rating AS INTEGER) <=6 THEN 1 ELSE 0 END)) * 100.0\n      AS NUMERIC\n    ) / NULLIF(COUNT(*), 0),\n    2\n  ) AS nps_score,\n  COUNT(*) AS total_responses,\n  CASE\n    WHEN nps_date >= '2025-02-01' AND nps_date < '2025-03-01' THEN 'February 2025'\n    WHEN nps_date >= '2025-03-01' AND nps_date < '2025-04-01' THEN 'March 2025'\n    WHEN nps_date >= '2025-04-01' AND nps_date < '2025-05-01' THEN 'April 2025'\n  END AS month\nFROM\n  public.hyb_nps_dtl\nWHERE\n  nps_date >= '2025-02-01'\n  AND nps_date < '2025-05-01'\nGROUP BY\n  nps_date\nORDER BY\n  nps_date\nLIMIT 100", "nl_response": "In February 2025, the daily NPS scores mostly ranged in the \"Great\" category (around 40-50). In March 2025, the NPS trend remained generally stable within the same \"Great\" range, showing consistent positive customer sentiment. In April 2025, the NPS scores continued this pattern without significant changes, maintaining a \"Great\" rating overall. Thus, the daily NPS trend in March 2025 was comparable to February and April, with all three months showing strong and steady customer satisfaction.", "suggestions": ["How do promoter, passive, and detractor proportions vary daily across February, March, and April 2025?", "Are there any specific events or campaigns in March 2025 that impacted daily NPS fluctuations?", "What common themes appear in customer feedback on days with the lowest NPS scores in Q1 2025?"], "raw_results_preview": []}
{"timestamp": "2025-05-18T18:57:15.404225", "session_id": "4ada26be-8621-4bc6-8ba9-014dd22ec8b5", "nl_query": "What common themes appear in customer feedback on days with the lowest NPS scores in Q1 2025?", "sql_query_generated": "WITH daily_nps AS (\n  SELECT\n    nps_date,\n    ROUND(\n      CAST(\n        (SUM(CASE WHEN CAST(p_rating AS INTEGER) >= 9 THEN 1 ELSE 0 END) -\n         SUM(CASE WHEN CAST(p_rating AS INTEGER) <=6 THEN 1 ELSE 0 END)) * 100.0\n        AS NUMERIC\n      ) / NULLIF(COUNT(*), 0),\n      2\n    ) AS nps_score\n  FROM\n    public.hyb_nps_dtl\n  WHERE\n    nps_date >= '2025-01-01'\n    AND nps_date < '2025-04-01'\n  GROUP BY\n    nps_date\n),\nlowest_nps_days AS (\n  SELECT\n    nps_date\n  FROM\n    daily_nps\n  WHERE\n    nps_score IS NOT NULL\n  ORDER BY\n    nps_score ASC\n  LIMIT 5\n)\nSELECT\n  p_category AS feedback_theme,\n  COUNT(*) AS feedback_count\nFROM\n  public.hyb_nps_dtl nps\nJOIN\n  lowest_nps_days lnd ON nps.nps_date = lnd.nps_date\nGROUP BY\n  p_category\nORDER BY\n  feedback_count DESC\nLIMIT 20", "nl_response": "On the days with the lowest NPS scores in Q1 2025, the most common customer feedback themes were related to Delivery and Products & Packaging, followed by issues with Customer Service and Communication. Delivery concerns were the most frequent, appearing in over 2,100 feedback entries, indicating these areas significantly contributed to lower customer satisfaction during those periods.", "suggestions": ["How do the identified feedback themes vary between promoters, passives, and detractors on low NPS days?", "Are delivery-related complaints more frequent in specific regions or customer segments during Q1 2025?", "What impact do delivery and packaging issues have on the likelihood of customers becoming detractors over time?"], "raw_results_preview": []}
{"timestamp": "2025-05-18T18:58:30.295935", "session_id": "4ada26be-8621-4bc6-8ba9-014dd22ec8b5", "nl_query": "what were these days?", "sql_query_generated": "-- Query to get the dates with the lowest NPS scores in Q1 2025 (as referenced previously)\nWITH daily_nps AS (\n  SELECT\n    nps_date,\n    ROUND(\n      CAST(\n        (SUM(CASE WHEN CAST(p_rating AS INTEGER) >= 9 THEN 1 ELSE 0 END) -\n         SUM(CASE WHEN CAST(p_rating AS INTEGER) <=6 THEN 1 ELSE 0 END)) * 100.0\n        AS NUMERIC\n      ) / NULLIF(COUNT(*), 0),\n      2\n    ) AS nps_score\n  FROM\n    public.hyb_nps_dtl\n  WHERE\n    nps_date >= '2025-01-01'\n    AND nps_date < '2025-04-01'\n  GROUP BY\n    nps_date\n)\nSELECT\n  nps_date,\n  nps_score\nFROM\n  daily_nps\nWHERE\n  nps_score IS NOT NULL\nORDER BY\n  nps_score ASC\nLIMIT 5", "nl_response": "The days with the lowest NPS scores in Q1 2025 were mostly in late March, with March 31 having the lowest score of 12.61, which is considered a \"Good\" but low-end NPS. Other low-scoring days include March 29 and 30, with scores around 31.5 to 31.7, falling into the \"Great\" range but still among the lowest for the quarter. Overall, these dates reflect the period with the least favorable customer sentiment during Q1.", "suggestions": ["How did NPS scores on low-scoring days in late March 2025 vary by customer segment?", "Is there a correlation between delivery delays and NPS drops on March 29-31, 2025?", "What specific product or packaging issues were most frequently mentioned on the lowest NPS days?"], "raw_results_preview": []}
